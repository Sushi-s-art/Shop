<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop All Products | Sushi's Art</title>

  <meta name="description" content="Browse our full collection of handmade art. Keychains, bookmarks, coasters, and more. Randomly curated just for you!">
  <meta name="keywords" content="buy handmade, online art shop, resin crafts, affordable gifts india, Sushi's Art shop">
  <meta name="robots" content="index, follow">

  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&family=Pacifico&display=swap" rel="stylesheet">
  
  <style>
    /* Reuse consistent variables */
    :root { --primary: #2EC4B6; --secondary: #FF9F1C; --accent: #9B5DE5; --pop: #FF6B6B; --bg: #FDFFFC; --text: #2F2F2F; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { 
        font-family: 'Fredoka', sans-serif; 
        background: var(--bg);
        background-image: radial-gradient(var(--primary) 2px, transparent 2px), radial-gradient(var(--secondary) 2px, transparent 2px);
        background-size: 40px 40px;
        background-position: 0 0, 20px 20px;
        color: var(--text);
    }

    /* Consistent Header */
    header {
          background: white;
          border-bottom: 5px solid var(--secondary);
          padding: 1rem 2rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
          position: sticky; 
          top: 0; 
          z-index: 1000;
          box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .logo {
          font-family: 'Pacifico', cursive;
          font-size: 2.2rem;
          color: var(--primary);
          text-decoration: none;
          text-shadow: 2px 2px 0 var(--secondary);
          transition: 0.3s;
        }

        .logo:hover { 
          transform: scale(1.05) rotate(-2deg); 
        }

        nav {
          display: flex;
          gap: 1.5rem;
        }

        nav a {
          text-decoration: none;
          color: var(--text);
          font-family: 'Fredoka', sans-serif;
          font-weight: 600;
          font-size: 1.1rem;
          transition: 0.3s;
          position: relative;
        }

        nav a:hover { 
          color: var(--pop); 
        }

    main { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; min-height: 60vh; }
    
    .page-title { text-align: center; color: var(--primary); font-family: 'Pacifico', cursive; font-size: 3rem; margin-bottom: 0.5rem; text-shadow: 2px 2px 0 #fff; }
    
    /* Filters */
    .category-tabs { display: flex; justify-content: center; flex-wrap: wrap; gap: 0.8rem; margin: 2rem 0; }
    .category-tab { background: white; border: 2px solid var(--primary); color: var(--primary); padding: 0.6rem 1.5rem; border-radius: 25px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; box-shadow: 0 4px 0 rgba(46,196,182,0.2); }
    .category-tab:hover, .category-tab.active { background: var(--primary); color: white; transform: translateY(-3px); box-shadow: 0 6px 0 rgba(46,196,182,0.4); }

    /* Product Grid */
    .listProduct { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 2.5rem; }
    
    .item { 
        background: white; border-radius: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); text-decoration: none; color: inherit; transition: 0.3s; 
        display: flex; flex-direction: column; border: 3px solid transparent; overflow: hidden; position: relative;
    }
    .item:hover { transform: translateY(-10px) scale(1.02); border-color: var(--secondary); box-shadow: 0 15px 30px rgba(255, 159, 28, 0.3); }
    
    .item img { width: 100%; height: 250px; object-fit: cover; border-bottom: 3px dashed #eee; background: #fafafa; }
    .item-details { padding: 1.2rem; text-align: center; }
    .item h2 { font-size: 1.3rem; margin-bottom: 0.5rem; }
    .price { background: var(--pop); color: white; padding: 5px 12px; border-radius: 15px; font-weight: bold; display: inline-block; }

    /* Recommendations at bottom */
    .rec-divider { margin: 4rem 0 2rem; border-top: 4px dashed var(--accent); position: relative; }
    .rec-divider::after { content: '‚ù§Ô∏è'; position: absolute; top: -18px; left: 50%; background: var(--bg); padding: 0 10px; font-size: 1.5rem; transform: translateX(-50%); }

    /* Consistent Footer */
    footer {
          background: var(--text);
          color: white;
          text-align: center;
          padding: 3rem 1rem;
          margin-top: auto; /* Pushes footer to bottom if page is short */
          border-top: 6px solid var(--accent);
          font-family: 'Fredoka', sans-serif;
        }

        footer p {
          margin: 0.5rem 0;
          font-size: 1rem;
          letter-spacing: 0.5px;
        }

        footer a {
          color: var(--secondary);
          text-decoration: none;
          font-weight: bold;
          transition: 0.3s;
        }

        footer a:hover {
          color: var(--primary);
          text-decoration: underline;
        }

        .footer-social {
          margin-top: 1.5rem;
          padding-top: 1.5rem;
          border-top: 1px dashed #555;
          display: flex;
          justify-content: center;
          gap: 1.5rem;
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="logo">Sushi's Art üé®</a>
        <nav>
            <a href="index.html" >Home</a>
            <a href="products.html" style="color:var(--pop)">Shop</a>
            <a href="About--Us.html">About</a>
            <a href="cart.html">üõí Cart</a>
        </nav>
    </header>

  <main>
    <h1 class="page-title">Gallery of Wonders</h1>
    <p style="text-align:center; color:#666;">Showing a random selection just for you!</p>
    
    <h5 id="loading" style="text-align:center; color:var(--accent); font-size:1.5rem; margin-top:2rem;">üé® Mixing colors... loading products...</h5>
    
    <div class="category-tabs"></div>
    <div class="listProduct" id="main-grid"></div>

    <div class="rec-divider"></div>
    <h2 style="text-align:center; font-family:'Pacifico', cursive; color:var(--accent); margin-bottom:2rem;">What we recommend for you</h2>
    <div class="listProduct" id="rec-grid"></div>

  </main>

  <footer>
    <p>Handmade with ‚ù§Ô∏è in India.</p>
    <p>Contact: <a href="mailto:sushrutpp@gmail.com">sushrutpp@gmail.com</a></p>
    
    <div class="footer-social">
        <a href="https://www.youtube.com/@Sushi-s-Art" target="_blank">üì∫ YouTube</a>
        <a href="products.html">üõçÔ∏è Shop Now</a>
    </div>

    <p style="font-size: 0.8rem; margin-top: 2rem; opacity: 0.6;">
        Sushi‚Äôs Art. .
    </p>
  </footer>

  <script>
    let allProducts = [];
    let activeCategory = 'All';
    const apiUrl = 'https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLgj7WgnJugRhK-C9lynrEzy94A0bGNTKWqIeUXtc8RALy39Wjpue0zaEfa7hbYbxGMc27bsNLiw-ikQ1v8tjSpeSAYKX6gaHP6GmNOagBJTksXq9iQklS1-13e_DCW_dfTsxQGIWhzlPrxJvuhUpZ1Xh-wq0BaQzIe4hA0OVk2LKIK6KdfbFG7Ykvdz5l9eenbFt9rXFlQqo1G1bs_hlO3zP7pkdJXOqqmIKS-xsoL9bUVMblJh5N2nD6S2MbkhiduTzxBVzdexljxGk7ka00Re1qS4Hg&lib=M49ruvkyrvSQu9MhQ5y1ExChxWcs_ce9J';

    // Randomization Helper
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    fetch(apiUrl)
      .then(res => res.json())
      .then(data => {
        // Randomize the main data immediately
        allProducts = shuffleArray(data);
        
        document.getElementById('loading').style.display = 'none';
        renderCategories();
        renderProducts();
        renderRecommendations();
      });

    function renderCategories() {
      const container = document.querySelector('.category-tabs');
      // Get unique categories
      const categories = ['All', ...new Set(allProducts.map(p => p.Category?.trim() || 'Uncategorized'))];
      container.innerHTML = categories.map(cat => `<button class="category-tab${cat === 'All'?' active':''}" onclick="filter('${cat}')">${cat}</button>`).join('');
    }

    function filter(cat) {
      activeCategory = cat;
      document.querySelectorAll('.category-tab').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      
      // Re-shuffle when filtering to keep it fun
      if(cat === 'All') {
          allProducts = shuffleArray(allProducts);
      }
      renderProducts();
    }

    function renderProducts() {
      const container = document.getElementById('main-grid');
      
      // Filter Logic
      const filtered = allProducts.filter(p => activeCategory === 'All' || (p.Category?.toLowerCase() === activeCategory.toLowerCase()));
      
      container.innerHTML = filtered.map(p => {
          const img = p.Image ? `https://drive.google.com/thumbnail?id=${p.Image.match(/[-\w]{25,}/)?.[0]}&sz=w400` : 'https://via.placeholder.com/250';
          return `
            <a href="detail.html?Id=${p.Code}" class="item">
              <img src="${img}" loading="lazy" onerror="this.src='https://via.placeholder.com/250'">
              <div class="item-details">
                <h2>${p.Item}</h2>
                <div class="price">‚Çπ${p.Price}</div>
              </div>
            </a>`;
        }).join('');
    }

    function renderRecommendations() {
        // Pick 3 random items for the bottom section
        const recContainer = document.getElementById('rec-grid');
        const recommendations = shuffleArray([...allProducts]).slice(0, 3); // Copy array before shuffle to not mess up main grid

        recContainer.innerHTML = recommendations.map(p => {
          const img = p.Image ? `https://drive.google.com/thumbnail?id=${p.Image.match(/[-\w]{25,}/)?.[0]}&sz=w400` : 'https://via.placeholder.com/250';
          return `
            <a href="detail.html?Id=${p.Code}" class="item" style="border-color:var(--accent);">
              <img src="${img}" loading="lazy">
              <div class="item-details">
                <span style="font-size:0.8rem; color:var(--accent); text-transform:uppercase;">Recommended</span>
                <h2>${p.Item}</h2>
                <div class="price" style="background:var(--accent)">‚Çπ${p.Price}</div>
              </div>
            </a>`;
        }).join('');
    }
  </script>
</body>
</html>